version: 3
created_by: Mohit Bisht
domain: opensource_storage
seed_examples:
  - context: |
        **Tracing Services in Ceph** use Jaeger as the backend for distributed tracing.
        Jaeger helps monitor and debug distributed systems by tracing requests across services.
        The main components include the Jaeger Agent, Jaeger Collector, and Jaeger Query.
        By default, traces are stored in an ElasticSearch database (version 6).
    questions_and_answers:
      - question: |
          What tracing backend does Ceph use?
        answer: |
          Ceph uses Jaeger as its tracing backend.
      - question: |
          What database does Jaeger use for storing traces by default?
        answer: |
          Jaeger uses ElasticSearch version 6 by default.
      - question: |
          What are the three main components of Jaeger tracing in Ceph?
        answer: |
          The Jaeger Agent, Jaeger Collector, and Jaeger Query.
  - context: |
        To deploy Jaeger tracing services with a new ElasticSearch container, use the following command:
        ```
        ceph orch apply jaeger
        ```
        This command deploys the necessary Jaeger services, including an ElasticSearch database for traces.
    questions_and_answers:
      - question: |
          How do you deploy Jaeger tracing services with a new ElasticSearch container?
        answer: |
          By using the command:
          ```
          ceph orch apply jaeger
          ```
      - question: |
          What does the `ceph orch apply jaeger` command include?
        answer: |
          It deploys Jaeger services along with a new ElasticSearch database for traces.
      - question: |
          Why is ElasticSearch used in Jaeger tracing?
        answer: |
          ElasticSearch stores the traces generated by Jaeger.
  - context: |
        To deploy Jaeger tracing services with an existing ElasticSearch cluster and Jaeger Query, use this command:
        ```
        ceph orch apply jaeger --without-query --es_nodes=ip:port,...
        ```
        This setup deploys only the Jaeger Agent and Jaeger Collector while using the existing ElasticSearch and Jaeger Query services.
    questions_and_answers:
      - question: |
          How do you deploy Jaeger tracing services using an existing ElasticSearch cluster?
        answer: |
          Use the command:
          ```
          ceph orch apply jaeger --without-query --es_nodes=ip:port,...
          ```
      - question: |
          What does the `--without-query` flag do in the Jaeger deployment command?
        answer: |
          It skips deploying the Jaeger Query service when using an existing setup.
      - question: |
          What is required for deploying Jaeger with an existing ElasticSearch cluster?
        answer: |
          The `--es_nodes` parameter specifying the IP and port of the ElasticSearch nodes.
  - context: |
        Jaeger Query is a critical component for visualizing and analyzing traces.
        It interacts with the ElasticSearch database to display trace data in a user-friendly interface.
        If using an existing Jaeger Query, the `--without-query` flag should be used during deployment.
    questions_and_answers:
      - question: |
          What is the purpose of the Jaeger Query service?
        answer: |
          It visualizes and analyzes trace data from the ElasticSearch database.
      - question: |
          When should the `--without-query` flag be used in Jaeger deployment?
        answer: |
          When you have an existing Jaeger Query service setup.
      - question: |
          How does Jaeger Query retrieve trace data?
        answer: |
          It fetches data from the ElasticSearch database.
  - context: |
        ElasticSearch is the default database for Jaeger tracing services in Ceph.
        It stores traces, allowing users to query and analyze them through the Jaeger Query service.
        Custom ElasticSearch clusters can be integrated using the `--es_nodes` parameter during deployment.
    questions_and_answers:
      - question: |
          What role does ElasticSearch play in Jaeger tracing?
        answer: |
          ElasticSearch stores traces, enabling query and analysis via the Jaeger Query service.
      - question: |
          How can you integrate a custom ElasticSearch cluster with Jaeger?
        answer: |
          By specifying the `--es_nodes` parameter with the IP and port of the ElasticSearch nodes during deployment.
      - question: |
          What is the default database for storing traces in Jaeger tracing?
        answer: |
          ElasticSearch version 6.
document_outline: Teach the Large Language Model about the service tracing of Ceph
document:
  repo: git@github.com:pavankumarag/ceph-instructlab-taxonomy-data.git
  commit: b60d0d0
  patterns: [upstream/doc/cephadm/cephadm/services/tracing*.md]
